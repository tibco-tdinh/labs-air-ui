<div fxLayout="column" fxLayoutGap="20px" style="height: 100%; overflow: auto;">
    <div fxLayout="row" fxLayoutAlign="space-around" style="width: 100%; overflow:auto;">
        <mat-card fxFlex>
          <mat-card-header>
            <mat-card-title>Registration Details</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div fxLayout="column" fxLayoutAlign="center start" style="width: 100%; padding-top: 20px">
              <div fxLayout="row" fxLayoutAlign="center start" style="width: 100%; padding-left: 20px">
                <form [formGroup]="projectForm">
                  <mat-form-field fxFlex="1 1 18%" appearance="outline" style="width: 20%;">
                    <mat-label>Project name</mat-label>
                    <input required matInput [readonly]=false formControlName="projectName">

                      <!-- <div *ngIf="projectName.touched"> name is required</div> -->
                  </mat-form-field>
                  <mat-form-field fxFlex="1 1 18%" appearance="outline" style="width: 40%;">
                    <mat-label>Project description</mat-label>
                    <input matInput [readonly]=false id="project" formControlName="projectDescription" required>
                    <!-- <app-field-error-display 
                      [displayError]="isFieldValid('projectDescription')" 
                      errorMsg="Please enter a valid project description">
                    </app-field-error-display> -->
                  </mat-form-field>
                </form>
                <input type="file" class="file-input" accept=".yml" (change)="onFileSelected($event)"
                    style="display:none;" #fileUpload />
                    <button [disabled]= "!projectForm.valid" mat-icon-button color="primary" (click)="fileUpload.click()">
                      <mat-label style="font-size: 18px; margin-right: 30%;">Upload a docker compose yml file</mat-label>
                      <mat-icon class="icon-display">upload_file</mat-icon>
                    </button>
              </div>
              <mat-card-actions style="padding-left: 2%;">
                <mat-card-title style="font-size: medium;">{{name}}</mat-card-title>
                <form [formGroup]="registrationForm">
                  <ng-container formArrayName="parameters">
                    <mat-card fxFlex class="mat-elevation-z0" style=" margin-left: -1%; max-height: 500px; width: 100%; overflow: auto;">
                      <ng-container *ngFor="let prop of registrationForm.get('parameters')['controls']; let i = index">
      
                        <div fxLayout="row" fxFlex="100%" fxLayoutGap="15px" [formGroupName]="i">
                          <mat-form-field fxFlex="1 1 15%" appearance="outline">
                            <input matInput [readonly]=true formControlName="name">
                          </mat-form-field>
                          <mat-form-field fxFlex="1 1 15%" appearance="outline">
                            <input required matInput [readonly]=false formControlName="value" placeholder="Enter Property Value ">
                          </mat-form-field>
                          <!-- <div  *ngIf="registrationForm.get('value').errors.required">Value is required</div> -->
                        </div>
                      </ng-container>
                    </mat-card>
                  </ng-container>
                </form>
              </mat-card-actions>
              <mat-card-actions  style="padding-bottom: 2%;">
                <div style="color:red">{{error}}</div>
                <button [disabled]= "!registrationForm.valid" mat-raised-button (click)="register()" color="primary">Register</button>
              </mat-card-actions>
          </div>
          </mat-card-content>
        </mat-card>
    </div>
</div>